<!DOCTYPE html>
<html>
<head>
    <title>Management Page</title>
</head>
<body>
    <!-- Add an empty HTML element where you want to display the JSON data -->
    <div id="json-data-container"><a href="{% url 'management:management_data' %}">Fetch JSON Data</a></div>

    <script>
        fetch('/management_data/')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
    })
    .then(data => {
        console.log(data); // Check if data is retrieved
        const jsonDataContainer = document.getElementById('json-data-container');
        jsonDataContainer.innerText = JSON.stringify(data, null, 2); // Pretty-print the JSON
    })
    .catch(error => {
        console.error('Error fetching or parsing JSON data:', error);
    });

    
    </script>
</body>
</html>
